<!DOCTYPE html>
<html>
<title>Checkout</title>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="static/checkout.css">
</head>
<body class="backgd">

<!-- Navigation Bar -->
<ul>
    <img class="Logo" src="https://i.postimg.cc/R0tyC8tr/204-B-Logo-removebg-preview.png" alt="Logo">
    <li><a href="/contact_us">Contact Us</a></li>
    <li><a href="/about_us">About Us</a></li>
    <li><a class="active" href="/checkout">Checkout</a></li>
    <li><a href="/menu">Menu</a></li>
</ul>

<!-- Checkout Title -->
<h1 class="rectangle">Checkout</h1>

<!-- Checkout Container -->
<div class="checkout_con">
    {% for item in cart %}
    <div class="checkout_item">
        <!-- Remove Button -->
        <div class="container">
            <form method="POST" action="/remove_from_cart">
                <input type="hidden" name="item_id" value="{{ item['id'] }}">
                <button type="submit">
            <!-- as a rule i avoid putting style elements into elements, but this is simply to force the corrct image resolution-->
                    <img src="https://i.postimg.cc/pTjv7Sdp/bin.jpg" style="width:41px; height:50px; margin-right:30px;"> 
                </button>
            </form>
        </div>

        <!-- Item Image -->
        <div class="image">
            <img src="{{ item.get('image', 'https://via.placeholder.com/150') }}" alt="{{ item['name'] }}">
        </div>

        <!-- Item Details -->
        <div class="details">
            <h2>{{ item['name'] }}</h2>
            <p>Price: ${{ "%.2f"|format(item['price']) }}</p>
        </div>

        <!-- Quantity Update -->
        <div class="rectangle_qty">
            <form method="POST" action="/update_cart">
                <input type="hidden" name="item_id" value="{{ item['id'] }}">
                <label for="qty">Quantity:</label>
                <select name="qty">
                    {% for i in range(1, 11) %}
                    <option value="{{ i }}" {% if i == item['qty'] %}selected{% endif %}>{{ i }}</option>
                    {% endfor %}
                </select>
                <button type="submit">Update</button>
            </form>
        </div>

        <!-- Subtotal -->
        <div class="subtotal">
            Subtotal: ${{ "%.2f"|format(item['price'] * item['qty']) }}
        </div>
    </div>
    {% endfor %}

    <!-- Total -->
    <div class="total">
        <h3>Total: ${{ "%.2f"|format(total) }}</h3>
    </div>
    <div class="checkout_pay_btn">
    <form method="GET" action="/checkout_pay">
        <input type="hidden" name="total" value="{{ total }}">
        <button type="submit">Proceed to Payment</button>
    </form>
</div>
</div>

<!-- Footer -->
<footer>
</footer>

</body>
</html>
